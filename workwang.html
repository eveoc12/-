<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wang work</title>
    <script src="./js/gsap.js"></script>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        img {
            pointer-events: none;
            -webkit-user-select: none;
            user-select: none;
           

        }

        div {
            display: flex;
            justify-content: center;
            align-items: center;
             -webkit-user-select: none;
            user-select: none;
           

        }

        body {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100vh;
            background-color: #171717;
            overflow: hidden;
        }

        .photos {
            position: absolute;
            flex-direction: column;
            overflow: hidden;
            cursor: pointer;
        }

        .photos_line {
            font-size: 1px;
            height: 342em;
            margin-bottom: 48em;
            flex-shrink: 0;
        }

        .photos_line_photo {
            font-size: 1px;
            width: 234em;
            height: 100%;
            margin-right: 36em;
            border-radius: 15em;
            background-color: #17f700;
            overflow: hidden;
            flex-shrink: 0;
        }

        .photos_line_photo img {
            height: 100%;
            transition: 0.3s ease;
        }

        .photos_line_photo:hover img {
            transform: scale(1.2);
        }

        @media screen and (max-aspect-ratio: 1.5/1) {

            .photos_line,
            .photos_line_photo {
                font-size: 2px;
            }
        }

        @media screen and (max-aspect-ratio: 0.8/1) {

            .photos_line,
            .photos_line_photo {
                font-size: 2.8px;
            }
        }


        
/* 侧边栏导航样式 */
.sidebar-nav {
    position: fixed;
    top: 50%;
    right: -250px; /* 初始隐藏在屏幕外 */
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.98);
    border-radius: 10px 0 0 10px;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.15);
    padding: 15px;
    width: 180px;
    z-index: 1000;
    transition: right 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
    border: 1px solid #eaeaea;
    border-right: none;
}

.sidebar-nav.active {
    right: 0; /* 显示时滑入 */
}

.sidebar-nav h3 {
    color: #c9b5b5;
    font-size: 16px;
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 1px solid #eee;
}

.sidebar-nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.sidebar-nav li {
    margin-bottom: 8px;
}

.sidebar-nav a {
    color: #c9b5b5;
    text-decoration: none;
    font-size: 14px;
    display: block;
    padding: 6px 10px;
    border-radius: 4px;
    transition: all 0.2s ease;
}

.sidebar-nav a:hover {
    background-color: #f5f5f5;
    color: #000;
}

/* 触发按钮样式 */
.nav-trigger {
    position: fixed;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 30px;
    height: 50px;
    background-color: #513de7;
    border-radius: 5px 0 0 5px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: -2px 0 8px rgba(0, 0, 0, 0.1);
    z-index: 999;
    border: 1px solid #eaeaea;
    border-right: none;
    transition: background-color 0.2s ease;
}

.nav-trigger:hover {
    background-color: #513de7;
}

.nav-trigger::before {
    content: "≡";
    font-size: 18px;
    color: #a09f9f;
}

/* 遮罩层样式 */
.nav-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.2);
    z-index: 998;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.nav-overlay.active {
    opacity: 1;
    visibility: visible;
}

/* 响应式调整 */
@media (max-width: 768px) {
    .sidebar-nav {
        width: 160px;
    }
}
    </style>
</head>

<body>
    <div class="photos">
        <div class="photos_line">
            <div class="photos_line_photo">
                <img src="../image/logo.png" alt="Photo 1" />

            </div>
            <div class="photos_line_photo">
                <img src="photoWang/01.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/02.png" alt="Photo 1">
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/03.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/04.png" alt="Photo 1">
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/05.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/06.png" alt="Photo 1"/>
            </div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo">
                <img src="photoWang/07.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/08.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/09.png"alt="Photo 1" />
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/10.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/11.png"alt="Photo 1" />
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/12.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/13.png" alt="Photo 1"/>
            </div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo">
                <img src="photoWang/14.png"alt="Photo 1" />
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/15.png"alt="Photo 1" />
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/16.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/17.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/18.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/19.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/20.png" alt="Photo 1"/>
            </div>
        </div>
        <div class="photos_line">
            <div class="photos_line_photo">
                <img src="photoWang/08.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/09.png"alt="Photo 1" />
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/10.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/11.png"alt="Photo 1" />
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/12.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/13.png" alt="Photo 1"/>
            </div>
            <div class="photos_line_photo">
                <img src="photoWang/14.png"alt="Photo 1" />
            </div>
        </div>
    </div>

    

<!-- 遮罩层 -->
<div class="nav-overlay" id="navOverlay" onclick="hideNav()"></div>

<!-- 触发按钮 -->
<div class="nav-trigger" onclick="toggleNav(event)"></div>

<!-- 侧边栏导航 -->
<div class="sidebar-nav" id="sidebarNav">
    <h3>navigation</h3>
    <ul>
        <li><a href="index.html" onclick="hideNav()">Home</a></li>

        <li><a href="workwang.html" onclick="hideNav()">work of the wang</a></li>
        <li><a href="workwan.html" onclick="hideNav()">work of the wan</a></li>
        <li><a href="workwu.html" onclick="hideNav()">work of the wu</a></li>
     
        
    </ul>
</div>
</body>
<script>
 
    const photobox = {
        container: document.querySelector(".photos"),
        img_data: [],
        container_width: 0,
        container_height: 0,
        photo_width: 0,
        photo_height: 0,
        if_movable: false,
        mouse_x: 0,
        mouse_y: 0,
        standard_width: 1440,
        scale_nums: 1,
        init() {
            this.resize();
           
            window.addEventListener("resize", () => {
                this.resize();
            });
            this.container.addEventListener("mousedown", () => {
                this.if_movable = true;
                this.mouse_x = event.clientX;
                this.mouse_y = event.clientY;
            });
            this.container.addEventListener("mouseup", () => {
                this.if_movable = false;
            });
            this.container.addEventListener("mouseleave", () => {
                this.if_movable = false;
            });
            this.container.addEventListener("mousemove", () => {
                this.move(event.clientX, event.clientY);
            });

        },
   
        resize() {
            let imgs = [...document.querySelectorAll(".photos_line_photo")];
            this.container_width = this.container.offsetWidth;
            this.container_height = this.container.offsetHeight;
            this.photo_width = imgs[0].offsetWidth;
            this.photo_height = imgs[0].offsetHeight;
            this.scale_nums = document.body.offsetWidth / this.standard_width;
            this.container.style.transform = `scale(${this.scale_nums})`;
            gsap.to(imgs, {
                transform: `translate(0,0)`,
                duration: 0,
                ease: 'power4.out'
            });
            this.img_data = [];
            imgs.forEach(img => {
                this.img_data.push({
                    node: img,
                    x: img.offsetLeft,
                    y: img.offsetTop,
                    mov_x: 0,
                    mov_y: 0,
                    ani: 0
                });
            });
        },
        move(x, y) {
            if (!this.if_movable) return 0;
            let distance_x = (x - this.mouse_x) / this.scale_nums;
            let distance_y = (y - this.mouse_y) / this.scale_nums;
            this.img_data.forEach((img) => {
                let duration = 1;
                img.mov_x += distance_x;
                if (img.x + img.mov_x > this.container_width) {
                    img.mov_x -= this.container_width;
                    duration = 0;
                }
                if (img.x + img.mov_x < -this.photo_width) {
                    img.mov_x += this.container_width;
                    duration = 0;
                }
                img.mov_y += distance_y;
                if (img.y + img.mov_y > this.container_height) {
                    img.mov_y -= this.container_height;
                    duration = 0;
                }
                if (img.y + img.mov_y < -this.photo_height) {
                    img.mov_y += this.container_height;
                    duration = 0;
                }
                if (img.ani) img.ani.kill();
                img.ani = gsap.to(img.node, {
                    transform: `translate(${img.mov_x}px,${img.mov_y}px)`,
                    duration: duration,
                    ease: 'power4.out'
                });
            });
            this.mouse_x = x;
            this.mouse_y = y;
        }
    };
    photobox.init();

    // 切换导航栏显示/隐藏
function toggleNav(event) {
    event.stopPropagation(); // 阻止事件冒泡
    const sidebar = document.getElementById('sidebarNav');
    const overlay = document.getElementById('navOverlay');
    
    if(sidebar.classList.contains('active')) {
        hideNav();
    } else {
        sidebar.classList.add('active');
        overlay.classList.add('active');
    }
}

// 隐藏导航栏
function hideNav() {
    const sidebar = document.getElementById('sidebarNav');
    const overlay = document.getElementById('navOverlay');
    sidebar.classList.remove('active');
    overlay.classList.remove('active');
}

// 点击文档其他地方隐藏导航栏
document.addEventListener('click', function(event) {
    const sidebar = document.getElementById('sidebarNav');
    const trigger = document.querySelector('.nav-trigger');
    
    // 如果点击的不是导航栏也不是触发按钮，且导航栏是显示的，则隐藏
    if(!sidebar.contains(event.target) && 
       !trigger.contains(event.target) && 
       sidebar.classList.contains('active')) {
        hideNav();
    }
});

</script>

</html>
